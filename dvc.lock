schema: '2.0'
stages:
  prepare:
    cmd: python3 src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 8bb700480c47eef497a6e693bdd102ab
      size: 980
    params:
      params.yaml:
        prepare.categories:
        - comp.graphics
        - sci.space
    outs:
    - path: data/prepared
      md5: 3a909cff29bc5982f1a7cedfbae14d58.dir
      size: 3720018
      nfiles: 2
  featurize:
    cmd: python3 src/featurize.py data/prepared data/features
    deps:
    - path: data/prepared
      md5: 3a909cff29bc5982f1a7cedfbae14d58.dir
      size: 3720018
      nfiles: 2
    - path: src/featurize.py
      md5: f9a567e8ed4b6649534fb1d0f29163b4
      size: 1686
    outs:
    - path: data/features
      md5: 97456e485825456c2b3ea8d4b5f39ce9.dir
      size: 481729728
      nfiles: 2
  train:
    cmd: python3 src/train.py data/features model.pkl
    deps:
    - path: data/features
      md5: 97456e485825456c2b3ea8d4b5f39ce9.dir
      size: 481729728
      nfiles: 2
    - path: src/train.py
      md5: 4e2d26dcdf7e68de9b6c639ef4a15086
      size: 829
    params:
      params.yaml:
        train.alpha: 0.1
    outs:
    - path: model.pkl
      md5: 28c8a9bc27d1337a2d64a2681aa8932a
      size: 982955
  evaluate:
    cmd: python3 src/evaluate.py model.pkl data/features scores.json plots.json
    deps:
    - path: data/features
      md5: 97456e485825456c2b3ea8d4b5f39ce9.dir
      size: 481729728
      nfiles: 2
    - path: model.pkl
      md5: 28c8a9bc27d1337a2d64a2681aa8932a
      size: 982955
    - path: src/evaluate.py
      md5: 65b9afd9adeb762b6947f1d5b00c7159
      size: 1351
    outs:
    - path: plots.json
      md5: 210c71d17330395f68b34101fbfa7b6c
      size: 50963
    - path: scores.json
      md5: 337b1ab7552c349a7d0f6331c6f83f3c
      size: 27
